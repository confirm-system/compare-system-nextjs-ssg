# コミットメッセージルール

このプロジェクトでは、以下のコミットメッセージルールを遵守してください。

## 📝 コミットメッセージ形式

```
<type>(<scope>): <subject>

<body>

<footer>
```

### 必須項目

- **type**: コミットの種類（必須）
- **subject**: 変更内容の簡潔な説明（必須、50文字以内）

### 任意項目

- **scope**: 変更範囲（オプション）
- **body**: 変更の詳細説明（オプション、72文字で折り返し）
- **footer**: 関連するIssue番号など（オプション）

## 🏷️ コミットタイプ（type）

| タイプ | 説明 | 例 |
|--------|------|-----|
| `feat` | 新機能の追加 | `feat: ユーザー認証機能を追加` |
| `fix` | バグ修正 | `fix: ログインエラーを修正` |
| `docs` | ドキュメントのみの変更 | `docs: READMEを更新` |
| `style` | コードの動作に影響しない変更（フォーマット、セミコロンなど） | `style: コードフォーマットを修正` |
| `refactor` | リファクタリング（機能追加・バグ修正ではない） | `refactor: API構造をリファクタリング` |
| `perf` | パフォーマンス改善 | `perf: データベースクエリを最適化` |
| `test` | テストの追加・修正 | `test: ユーザーサービスのテストを追加` |
| `chore` | ビルドプロセスやツールの変更 | `chore: 依存関係を更新` |
| `ci` | CI設定の変更 | `ci: GitHub Actionsワークフローを追加` |
| `build` | ビルドシステムや依存関係の変更 | `build: Dockerfileを更新` |

## 📋 コミットメッセージ例

### シンプルな例

```bash
feat: ユーザー登録機能を追加
```

```bash
fix: ログイン時のエラーハンドリングを修正
```

```bash
docs: API仕様書を更新
```

### スコープ付きの例

```bash
feat(api): ユーザー一覧取得エンドポイントを追加
```

```bash
fix(auth): セッションタイムアウト処理を修正
```

```bash
refactor(db): データベース接続処理をリファクタリング
```

### 詳細説明付きの例

```bash
feat: 管理者認証機能を追加

- 管理者ログインAPIを実装
- セッション管理機能を追加
- 権限チェックミドルウェアを追加

Closes #123
```

```bash
fix: メモリリークを修正

データベース接続が適切にクローズされていなかった問題を修正。
長時間実行時にメモリ使用量が増加する問題を解決。

Fixes #456
```

## ✅ 良いコミットメッセージ

- ✅ `feat: ユーザー認証機能を追加`
- ✅ `fix(api): 500エラーの原因を修正`
- ✅ `docs: セットアップ手順を追加`
- ✅ `refactor: コード構造を整理`
- ✅ `test: ユーザーサービスのテストを追加`

## ❌ 悪いコミットメッセージ

- ❌ `更新`
- ❌ `fix bug`
- ❌ `WIP`
- ❌ `コミット`
- ❌ `いろいろ修正`
- ❌ `feat: ユーザー認証機能を追加した。これにより、ユーザーはログインできるようになり、セッション管理も実装した。また、パスワードリセット機能も追加した。`（長すぎる）

## 🔍 コミットメッセージチェックリスト

コミット前に以下を確認してください：

- [ ] コミットタイプが適切か
- [ ] 件名が50文字以内か
- [ ] 件名が現在形で書かれているか（過去形ではなく）
- [ ] 件名の先頭が大文字で始まっていないか（小文字で始める）
- [ ] 件名の末尾にピリオドがないか
- [ ] 変更内容が明確に説明されているか

## 📚 参考

- [Conventional Commits](https://www.conventionalcommits.org/)
- [Angular Commit Message Guidelines](https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit)

